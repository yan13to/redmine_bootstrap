<% options ||= {} %>

<% url = options.delete :url %>
<% active = options.delete :active %>
<% icon = options.delete :icon %>
<% label = options.delete :label %>
<% label = label.nil? ? true : label %>
<% mode = options.delete :mode %>

<% tag_class = [] %>
<% tag_class << 'text-decoration-none' %>
<% tag_class << 'd-flex' if icon.present? %>
<% tag_class << 'gap-2' if icon.present? %>
<% tag_class << options[:class] if options[:class].present? %>
<% tag_class << 'btn' if mode == :button %>
<% tag_class = tag_class.compact.join(' ') %>

<% options[:class] = tag_class %>

<% tag_label = [] %>
<% tag_label << page_icon(icon) if icon.present? %>
<% tag_label << content_tag(:span, content) if content && label %>
<% tag_label = tag_label.join.html_safe %>

<%= link_to tag_label, url, to_html_options(options) %>
