<% options ||= {} %>

<% tag = options.delete(:tag) || :ul %>
<% mode = options.delete(:mode) %>

<% tag_class = [] %>
<% tag_class << 'list-group' %>
<% tag_class << 'list-group-flush' if mode == :flush %>
<% tag_class << options[:class] if options[:class].present? %>

<% tag_class = tag_class.join(' ') %>

<% options[:class] = tag_class if tag_class.present? %>

<%= content_tag tag, to_html_options(options) do %>
  <% if content.is_a?(Array) %>
    <% content.each do |item| %>
      <%= page_list_item item[:content], item[:options] %>
    <% end %>
  <% else %>
    <%= content %>
  <% end %>
<% end %>